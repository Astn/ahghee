<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>UI</title>
    <base href="/" />
    <link rel="stylesheet" href="css/fabric.min.css" />
    <link href="css/app.css" rel="stylesheet" />
    <link rel="stylesheet" data-name="vs/editor/editor.main" href="monaco-editor/min/vs/editor/editor.main.css">
    <style id="staticcs"></style>
</head>

<body>
    <app>Loading...</app>

    <div id="blazor-error-ui" style="display: none !important; background-color: #1b1a19; ">
<!--        An unhandled error has occurred.-->
<!--        <a href="" class="reload">Reload</a>-->
<!--        <a class="dismiss">ðŸ—™</a>-->
    </div>

    <script src="_framework/blazor.webassembly.js"></script>
    <script src="lodash.js"></script>

    <!--    <script src="d3/d3.min.js"></script>-->
    <script src="d3/d3.js"></script>

    <script src="d3-charts.js"></script>
    <script src="d3-interop.js"></script>

<!--    <script src="three.js"></script>-->
    <script src="//unpkg.com/3d-force-graph"></script>
    <script src="three-interop.js"></script>
    <!-- Some styling -->
    <link rel="stylesheet" href="_content/ChartJs.Blazor/ChartJSBlazor.css" />

    <script>var require = { paths: { 'vs': 'monaco-editor/min/vs' } };</script>
    <script src="monaco-editor/min/vs/loader.js"></script>
    <script src="monaco-editor/min/vs/editor/editor.main.nls.js"></script>
    <script src="monaco-editor/min/vs/editor/editor.main.js"></script>


    <script>


        window.CreateMonacoEditor = (instance, source) => {
            // Register a tokens provider for the language
            //https://microsoft.github.io/monaco-editor/monarch.html
            
            var text1 = source;

            var editor = monaco.editor.create(document.getElementById("monaco_container"), {
                value: text1,
                language: "javascript",
                automaticLayout: true,
                lineNumbers: "off",
                roundedSelection: false,
                scrollBeyondLastLine: false,
                fontFamily: "Fira Code",
                readOnly: false,
                theme: "vs-dark",
            });

            window.monacoEditor = editor;

            return "created";
        };

        window.GetMonacoEditorContent = () => {
            return window.monacoEditor.getValue();
        }

        window.SetMonacoEditorContent = (modifiedSource) => {
            window.monacoEditor.setValue(modifiedSource);
            return "modified";
        }

    </script>
 
</body>

</html>
